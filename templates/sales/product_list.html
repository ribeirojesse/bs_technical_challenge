<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

    {% for product in products %}
    <div class="card bg-base-100 shadow-md rounded-2xl overflow-hidden hover:shadow-xl transition duration-300">

        <figure class="h-44 bg-gray-100 flex items-center justify-center">
            {% if product.image %}
                <img
                    src="{{ product.image.url }}"
                    alt="{{ product.name }}"
                    class="h-full w-full object-contain p-3"
                />
            {% else %}
                <div class="text-gray-400 text-sm">
                    No image available
                </div>
            {% endif %}
        </figure>

        <div class="card-body p-4 flex flex-col gap-2">

            <h2 class="text-base font-semibold leading-tight">
                {{ product.name }}
            </h2>

            <details class="text-sm text-gray-500">
                <summary class="cursor-pointer font-medium text-gray-600">
                    More
                </summary>
                <p class="mt-1">
                    {{ product.description }}
                </p>
            </details>

            <p class="text-lg font-bold mt-1">
                ${{ product.price }}
            </p>

            <div class="flex items-center gap-2 mt-3">

                <button
                    class="btn btn-sm btn-outline h-10 min-w-[90px] flex-1"
                    hx-get="{% url 'sales:product_detail' product.id %}"
                    hx-target="#modal-container"
                    hx-swap="innerHTML"
                >
                    Details
                </button>

                <div id="cart-controls-{{ product.id }}" class="flex-1">
                    {% include "sales/product_cart_controls.html" %}
                </div>

            </div>

        </div>
    </div>

    {% empty %}
        <p class="text-gray-500">No products found.</p>
    {% endfor %}

</div>
